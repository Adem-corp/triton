function slideUp(e,t=500){e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.boxSizing="border-box",e.style.height=e.offsetHeight+"px",requestAnimationFrame(()=>{e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0}),window.setTimeout(()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)}function slideDown(e,t=500){e.style.removeProperty("display");let o=window.getComputedStyle(e).display,r=("none"===o&&(o="block"),e.style.display=o,e.offsetHeight);e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.style.boxSizing="border-box",requestAnimationFrame(()=>{e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=r+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom")}),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)}function slideToggle(e,t=500){return("none"===window.getComputedStyle(e).display?slideDown:slideUp)(e,t)}function getSiblings(t){var o=[];if(t.parentNode){let e=t.parentNode.firstChild;for(;e;)1===e.nodeType&&e!==t&&o.push(e),e=e.nextSibling}return o}function setTelMask(){[].forEach.call(document.querySelectorAll('[type="tel"]'),function(l){let a;function e(e){e.keyCode&&(a=e.keyCode),this.selectionStart<3&&e.preventDefault();let t=l.placeholder,o=0,r=t.replace(/\D/g,""),n=this.value.replace(/\D/g,""),i=t.replace(/[_\d]/g,function(e){return o<n.length?n.charAt(o++)||r.charAt(o):e});-1!=(o=i.indexOf("_"))&&(o<5&&(o=3),i=i.slice(0,o));var s=t.substr(0,this.value.length).replace(/_+/g,function(e){return"\\d{1,"+e.length+"}"}).replace(/[+()]/g,"\\$&");(!(s=new RegExp("^"+s+"$")).test(this.value)||this.value.length<5||47<a&&a<58)&&(this.value=i),"blur"==e.type&&this.value.length<5&&(this.value="")}l.addEventListener("input",e,!1),l.addEventListener("focus",e,!1),l.addEventListener("blur",e,!1),l.addEventListener("keydown",e,!1)})}function sendForms(){let i=Date.now(),s=[];document.querySelectorAll("input, textarea").forEach(e=>{let t=null;e.addEventListener("input",()=>{var e=Date.now();t&&s.push(e-t),t=e})}),document.querySelectorAll("form.js-form").forEach(function(n){n.addEventListener("submit",function(e){e.preventDefault();var e=new FormData(n),t=n.getAttribute("name");let o=n.querySelector("button[type=submit]"),r=o.innerHTML;t&&(e.append("form_name",t),e.append("time_on_page",Date.now()-i),e.append("typing_speed",JSON.stringify(s)),e.append("action","send_mail"),o.innerHTML="Отправляю...",n.classList.add("loading"),fetch(adem_ajax.url,{method:"POST",body:e}).then(e=>e.text()).then(e=>{Fancybox.close(!0),n.reset(),n.classList.remove("loading"),o.innerHTML=r,setTimeout(function(){Fancybox.show([{src:"#modal-success",type:"inline"}])},100)}).catch(e=>{console.error("Error:",e)}))})})}function showSearchForm(){var e=document.querySelectorAll(".js-search-btn");let i=document.querySelector("#searchform");e.forEach(function(t){let o=t.querySelector("use"),r=o.getAttribute("xlink:href"),n=r.replace("i-search","i-close");t.addEventListener("click",function(e){i.classList.toggle("active"),t.classList.toggle("active"),t.classList.contains("active")?o.setAttribute("xlink:href",n):o.setAttribute("xlink:href",r)})})}document.addEventListener("DOMContentLoaded",function(){Fancybox.bind(),setTelMask(),showSearchForm(),sendForms()});