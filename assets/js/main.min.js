function slideUp(e,t=500){e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.boxSizing="border-box",e.style.height=e.offsetHeight+"px",requestAnimationFrame(()=>{e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0}),window.setTimeout(()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)}function slideDown(e,t=500){e.style.removeProperty("display");let r=window.getComputedStyle(e).display,n=("none"===r&&(r="block"),e.style.display=r,e.offsetHeight);e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.style.boxSizing="border-box",requestAnimationFrame(()=>{e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=n+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom")}),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)}function slideToggle(e,t=500){return("none"===window.getComputedStyle(e).display?slideDown:slideUp)(e,t)}function getSiblings(t){var r=[];if(t.parentNode){let e=t.parentNode.firstChild;for(;e;)1===e.nodeType&&e!==t&&r.push(e),e=e.nextSibling}return r}function setTelMask(){[].forEach.call(document.querySelectorAll('[type="tel"]'),function(a){let l;function e(e){e.keyCode&&(l=e.keyCode),this.selectionStart<3&&e.preventDefault();let t=a.placeholder,r=0,n=t.replace(/\D/g,""),o=this.value.replace(/\D/g,""),i=t.replace(/[_\d]/g,function(e){return r<o.length?o.charAt(r++)||n.charAt(r):e});-1!=(r=i.indexOf("_"))&&(r<5&&(r=3),i=i.slice(0,r));var s=t.substr(0,this.value.length).replace(/_+/g,function(e){return"\\d{1,"+e.length+"}"}).replace(/[+()]/g,"\\$&");(!(s=new RegExp("^"+s+"$")).test(this.value)||this.value.length<5||47<l&&l<58)&&(this.value=i),"blur"==e.type&&this.value.length<5&&(this.value="")}a.addEventListener("input",e,!1),a.addEventListener("focus",e,!1),a.addEventListener("blur",e,!1),a.addEventListener("keydown",e,!1)})}function sendForms(){let i=Date.now(),s=[];document.querySelectorAll("input, textarea").forEach(e=>{let t=null;e.addEventListener("input",()=>{var e=Date.now();t&&s.push(e-t),t=e})}),document.querySelectorAll("form.js-form").forEach(function(o){o.addEventListener("submit",function(e){e.preventDefault();var e=new FormData(o),t=o.getAttribute("name");let r=o.querySelector("button[type=submit]"),n=r.innerHTML;t&&(e.append("form_name",t),e.append("time_on_page",Date.now()-i),e.append("typing_speed",JSON.stringify(s)),e.append("action","send_mail"),r.innerHTML="Отправляю...",o.closest(".modal, section").classList.add("loading"),fetch(adem_ajax.url,{method:"POST",body:e}).then(e=>e.text()).then(e=>{Fancybox.close(!0),o.reset(),o.closest(".modal, section").classList.remove("loading"),r.innerHTML=n,setTimeout(function(){Fancybox.show([{src:"#modal-success",type:"inline"}])},100)}).catch(e=>{console.error("Error:",e)}))})})}function showSearchForm(){var e=document.querySelectorAll(".js-search-btn");let i=document.querySelector("#searchform");e.forEach(function(t){let r=t.querySelector("use"),n=r.getAttribute("xlink:href"),o=n.replace("i-search","i-close");t.addEventListener("click",function(e){i.classList.toggle("active"),t.classList.toggle("active"),t.classList.contains("active")?r.setAttribute("xlink:href",o):r.setAttribute("xlink:href",n)})})}function initArticlesSlider(){var e=document.querySelector(".articles");e&&new Swiper(e.querySelector(".swiper"),{slidesPerView:"auto",spaceBetween:20,pagination:{el:e.querySelector(".swiper-pagination"),type:"progressbar"}})}function initMainHeroSlider(){let r=document.querySelector(".main-hero");if(r){let t=new Swiper(r.querySelector(".swiper"),{slidesPerView:1,spaceBetween:0,loop:!0,effect:"creative",allowTouchMove:!1,speed:2e3,autoplay:{delay:6e3},creativeEffect:{prev:{opacity:0},next:{opacity:0}},pagination:{el:r.querySelector(".swiper-pagination"),type:"bullets",clickable:!0},on:{slideChange:function(e){r.querySelector(".js-main-hero-nav button.active").classList.remove("active"),r.querySelector('.js-main-hero-nav button[data-index="'+e.realIndex+'"]').classList.add("active")}}});r.querySelector(".js-main-hero-nav").addEventListener("click",function(e){e=e.target.closest("button");e&&(e.classList.add("active"),t.slideToLoop(+e.dataset.index),getSiblings(e.closest("li")).forEach(function(e){e.querySelector("button").classList.remove("active")}))})}}function initProductsSlider(){var e=document.querySelectorAll(".products");function n(e,t){return"<span>"+r(e)+"<span>/</span></span>"+r(t)}function r(e){return e<10?"0"+e:String(e)}e&&e.forEach(function(r){new Swiper(r.querySelector(".swiper"),{slidesPerView:"auto",slidesPerGroup:1,spaceBetween:13,centerInsufficientSlides:!0,pagination:{el:r.querySelector(".swiper-pagination"),type:"progressbar"},navigation:{nextEl:r.querySelector(".arrow--next"),prevEl:r.querySelector(".arrow--prev")},breakpoints:{577:{slidesPerView:2,slidesPerGroup:2},1025:{slidesPerView:3,slidesPerGroup:3},1201:{slidesPerView:4,slidesPerGroup:4}},on:{init:function(e){let t=0;t=("max"===e.currentBreakpoint?e.passedParams:e.passedParams.breakpoints[e.currentBreakpoint]).slidesPerGroup,r.querySelector(".products__count").innerHTML=n(t,e.slides.length)},slideChange:function(e){let t=0;t=("max"===e.currentBreakpoint?e.passedParams:e.passedParams.breakpoints[e.currentBreakpoint]).slidesPerGroup,r.querySelector(".products__count").innerHTML=n(t+e.activeIndex,e.slides.length)}}})})}function initAccordion(){var e=document.querySelectorAll(".js-accord");e&&e.forEach(function(e){e.addEventListener("click",function(e){e=e.target.closest(".js-accord-name");e&&(e.parentElement.classList.toggle("active"),slideToggle(e.nextElementSibling))})})}function initDocsSlider(){var e=document.querySelectorAll(".docs");e&&e.forEach(function(e){new Swiper(e.querySelector(".swiper"),{slidesPerView:"auto",spaceBetween:10,navigation:{nextEl:e.querySelector(".arrow--next"),prevEl:e.querySelector(".arrow--prev")}})})}function initTabs(){var e=document.querySelectorAll(".js-tabs");e&&e.forEach(function(o){o.addEventListener("click",function(e){var t,r,n=e.target.closest("[data-tab]");n&&n.classList.contains("active")&&o.classList.toggle("open"),n&&!n.classList.contains("active")&&e.target!==o&&(e=o.querySelector(".active"),n=n,e=e,t=document.querySelectorAll('[data-tab-container="'+n.getAttribute("data-tab")+'"]'),r=document.querySelectorAll('[data-tab-container="'+e.getAttribute("data-tab")+'"]'),e.classList.remove("active"),n.classList.add("active"),r.forEach(function(e){e.classList.remove("active")}),t.forEach(function(e){e.classList.add("active")}),n.parentNode.classList.remove("open"))})})}function initCardsASlider(){var e=document.querySelectorAll(".card-a__slider");e&&e.forEach(function(e){new Swiper(e.querySelector(".swiper"),{slidesPerView:"auto",spaceBetween:10,pagination:{el:e.querySelector(".swiper-pagination")}})})}function showMorePosts(){var e=document.querySelector(".js-show-more-posts");e&&e.addEventListener("click",function(e){e.stopImmediatePropagation();let t=document.querySelector(".js-posts-container");this.textContent="Загрузка...";fetch(adem_ajax.url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:new URLSearchParams({action:"load_more",query:JSON.stringify(posts),page:posts_current_page,nonce:posts_nonce})}).then(e=>e.text()).then(e=>{this.textContent=this.dataset.text,t.insertAdjacentHTML("beforeend",e),++posts_current_page===posts_max_pages&&this.remove()}).catch(e=>{console.error("Error:",e)})})}document.addEventListener("DOMContentLoaded",function(){Fancybox.bind(),initAccordion(),initTabs(),initArticlesSlider(),initCardsASlider(),initDocsSlider(),initMainHeroSlider(),initProductsSlider(),setTelMask(),showMorePosts(),showSearchForm(),sendForms()});