function slideUp(e,t=500){e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.boxSizing="border-box",e.style.height=e.offsetHeight+"px",requestAnimationFrame(()=>{e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0}),window.setTimeout(()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)}function slideDown(e,t=500){e.style.removeProperty("display");let r=window.getComputedStyle(e).display,o=("none"===r&&(r="block"),e.style.display=r,e.offsetHeight);e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.style.boxSizing="border-box",requestAnimationFrame(()=>{e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom")}),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property")},t)}function slideToggle(e,t=500){return("none"===window.getComputedStyle(e).display?slideDown:slideUp)(e,t)}function getSiblings(t){var r=[];if(t.parentNode){let e=t.parentNode.firstChild;for(;e;)1===e.nodeType&&e!==t&&r.push(e),e=e.nextSibling}return r}function setTelMask(){[].forEach.call(document.querySelectorAll('[type="tel"]'),function(s){let a;function e(e){e.keyCode&&(a=e.keyCode),this.selectionStart<3&&e.preventDefault();let t=s.placeholder,r=0,o=t.replace(/\D/g,""),n=this.value.replace(/\D/g,""),i=t.replace(/[_\d]/g,function(e){return r<n.length?n.charAt(r++)||o.charAt(r):e});-1!=(r=i.indexOf("_"))&&(r<5&&(r=3),i=i.slice(0,r));var l=t.substr(0,this.value.length).replace(/_+/g,function(e){return"\\d{1,"+e.length+"}"}).replace(/[+()]/g,"\\$&");(!(l=new RegExp("^"+l+"$")).test(this.value)||this.value.length<5||47<a&&a<58)&&(this.value=i),"blur"==e.type&&this.value.length<5&&(this.value="")}s.addEventListener("input",e,!1),s.addEventListener("focus",e,!1),s.addEventListener("blur",e,!1),s.addEventListener("keydown",e,!1)})}function sendForms(){let i=Date.now(),l=[];document.querySelectorAll("input, textarea").forEach(e=>{let t=null;e.addEventListener("input",()=>{var e=Date.now();t&&l.push(e-t),t=e})}),document.querySelectorAll("form.js-form").forEach(function(n){n.addEventListener("submit",function(e){e.preventDefault();var e=new FormData(n),t=n.getAttribute("name");let r=n.querySelector("button[type=submit]"),o=r.innerHTML;t&&(e.append("form_name",t),e.append("time_on_page",Date.now()-i),e.append("typing_speed",JSON.stringify(l)),e.append("action","send_mail"),r.innerHTML="Отправляю...",n.classList.add("loading"),fetch(adem_ajax.url,{method:"POST",body:e}).then(e=>e.text()).then(e=>{Fancybox.close(!0),n.reset(),n.classList.remove("loading"),r.innerHTML=o,setTimeout(function(){Fancybox.show([{src:"#modal-success",type:"inline"}])},100)}).catch(e=>{console.error("Error:",e)}))})})}function showSearchForm(){var e=document.querySelectorAll(".js-search-btn");let i=document.querySelector("#searchform");e.forEach(function(t){let r=t.querySelector("use"),o=r.getAttribute("xlink:href"),n=o.replace("i-search","i-close");t.addEventListener("click",function(e){i.classList.toggle("active"),t.classList.toggle("active"),t.classList.contains("active")?r.setAttribute("xlink:href",n):r.setAttribute("xlink:href",o)})})}function initArticlesSlider(){var e=document.querySelector(".articles");e&&new Swiper(e.querySelector(".swiper"),{slidesPerView:"auto",spaceBetween:20,pagination:{el:e.querySelector(".swiper-pagination"),type:"progressbar"}})}function initMainHeroSlider(){let r=document.querySelector(".main-hero");if(r){let t=new Swiper(r.querySelector(".swiper"),{slidesPerView:1,spaceBetween:0,loop:!0,effect:"creative",allowTouchMove:!1,speed:2e3,autoplay:{delay:6e3},creativeEffect:{prev:{opacity:0},next:{opacity:0}},pagination:{el:r.querySelector(".swiper-pagination"),type:"bullets",clickable:!0},on:{slideChange:function(e){r.querySelector(".js-main-hero-nav button.active").classList.remove("active"),r.querySelector('.js-main-hero-nav button[data-index="'+e.realIndex+'"]').classList.add("active")}}});r.querySelector(".js-main-hero-nav").addEventListener("click",function(e){e=e.target.closest("button");e&&(e.classList.add("active"),t.slideToLoop(+e.dataset.index),getSiblings(e.closest("li")).forEach(function(e){e.querySelector("button").classList.remove("active")}))})}}document.addEventListener("DOMContentLoaded",function(){Fancybox.bind(),initArticlesSlider(),initMainHeroSlider(),setTelMask(),showSearchForm(),sendForms()});